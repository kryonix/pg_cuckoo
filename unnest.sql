DROP TABLE IF EXISTS students;
CREATE TABLE students
( id int
, name text
, major text
, year int
);

DROP TABLE IF EXISTS exams;
CREATE TABLE exams
( sid int
, course int
, curriculum text
, date int
, grade int
);

TRUNCATE students;
INSERT INTO "students"
SELECT i, md5(random()::text), major, round(random()*20) :: int
FROM generate_series(1, 1000) as _(i), lateral
     (select *
     FROM (VALUES ('CS'), ('Inf'), ('Games Eng')) as foo
     ORDER BY random()*i
     LIMIT 1) as __(major);

TRUNCATE exams;
INSERT INTO "exams"
SELECT random()*1000, round(random()*20) :: int, course, round(random()*10), round(random()*10)
FROM generate_series(1, 10000) as _(i), lateral
     (select *
     FROM (VALUES ('Adv SQL'), ('DB2'), ('DB1'), ('SASL')) as foo
     ORDER BY random()*i
     LIMIT 1) as __(course);


INSERT INTO "students" (id,name,major,year) VALUES (1,'Stuart','Wirtschaft','18'),(2,'Nero','Informatik','17'),(3,'Jeremy','Psychologie','17'),(4,'Garrison','Psychologie','18'),(5,'Brenden','Psychologie','18'),(6,'Xanthus','Psychologie','18'),(7,'Dustin','Informatik','19'),(8,'Felix','Wirtschaft','17'),(9,'Alexander','Wirtschaft','17'),(10,'Dale','Informatik','17');
INSERT INTO "students" (id,name,major,year) VALUES (11,'Magee','Psychologie','18'),(12,'Ivor','Wirtschaft','17'),(13,'Talon','Psychologie','18'),(14,'Dieter','Wirtschaft','19'),(15,'Seth','Informatik','17'),(16,'Lars','Wirtschaft','19'),(17,'Plato','Informatik','18'),(18,'Lucius','Informatik','18'),(19,'Julian','Informatik','17'),(20,'Wallace','Wirtschaft','18');
INSERT INTO "students" (id,name,major,year) VALUES (21,'Patrick','Psychologie','18'),(22,'Ciaran','Informatik','18'),(23,'Ignatius','Informatik','17'),(24,'Allistair','Wirtschaft','18'),(25,'Malik','Informatik','19'),(26,'Jameson','Psychologie','17'),(27,'Tobias','Wirtschaft','18'),(28,'Deacon','Wirtschaft','17'),(29,'Wylie','Wirtschaft','17'),(30,'Stewart','Wirtschaft','19');
INSERT INTO "students" (id,name,major,year) VALUES (31,'Cairo','Psychologie','18'),(32,'Kelly','Psychologie','18'),(33,'Jerry','Informatik','18'),(34,'Nero','Wirtschaft','18'),(35,'Abraham','Psychologie','18'),(36,'Garrett','Wirtschaft','17'),(37,'Basil','Wirtschaft','17'),(38,'Ulric','Psychologie','18'),(39,'Chester','Informatik','18'),(40,'Randall','Wirtschaft','17');
INSERT INTO "students" (id,name,major,year) VALUES (41,'Aladdin','Psychologie','19'),(42,'Ira','Informatik','18'),(43,'Tyler','Wirtschaft','17'),(44,'Steel','Informatik','18'),(45,'Mark','Informatik','19'),(46,'Jonas','Psychologie','19'),(47,'Quamar','Wirtschaft','18'),(48,'Quamar','Informatik','17'),(49,'Francis','Wirtschaft','18'),(50,'Price','Wirtschaft','17');
INSERT INTO "students" (id,name,major,year) VALUES (51,'Kirk','Wirtschaft','17'),(52,'Burke','Informatik','19'),(53,'Kasper','Wirtschaft','18'),(54,'Nehru','Informatik','17'),(55,'Trevor','Psychologie','18'),(56,'Kenyon','Informatik','19'),(57,'Grady','Wirtschaft','17'),(58,'Colin','Informatik','18'),(59,'Lewis','Psychologie','18'),(60,'Nigel','Informatik','18');
INSERT INTO "students" (id,name,major,year) VALUES (61,'Hu','Wirtschaft','19'),(62,'Bruno','Psychologie','17'),(63,'Andrew','Wirtschaft','19'),(64,'Neville','Psychologie','18'),(65,'Xenos','Psychologie','18'),(66,'Aquila','Informatik','18'),(67,'Lester','Informatik','18'),(68,'Kareem','Informatik','19'),(69,'Seth','Wirtschaft','18'),(70,'Tanner','Psychologie','18');
INSERT INTO "students" (id,name,major,year) VALUES (71,'Uriel','Informatik','18'),(72,'Marsden','Psychologie','18'),(73,'Quinn','Psychologie','18'),(74,'Abraham','Psychologie','18'),(75,'Abbot','Informatik','18'),(76,'Justin','Informatik','18'),(77,'Xander','Psychologie','19'),(78,'Holmes','Psychologie','18'),(79,'Caesar','Informatik','18'),(80,'Lev','Informatik','19');
INSERT INTO "students" (id,name,major,year) VALUES (81,'Palmer','Wirtschaft','18'),(82,'Aristotle','Informatik','19'),(83,'Griffin','Wirtschaft','19'),(84,'Joshua','Wirtschaft','18'),(85,'Hu','Wirtschaft','18'),(86,'Abel','Wirtschaft','18'),(87,'Amos','Wirtschaft','17'),(88,'Rooney','Psychologie','18'),(89,'Ralph','Psychologie','18'),(90,'Uriel','Psychologie','19');
INSERT INTO "students" (id,name,major,year) VALUES (91,'Forrest','Psychologie','17'),(92,'Joel','Psychologie','17'),(93,'Kevin','Wirtschaft','18'),(94,'Tanner','Wirtschaft','17'),(95,'Barrett','Wirtschaft','19'),(96,'Drew','Wirtschaft','18'),(97,'Harlan','Wirtschaft','18'),(98,'Baxter','Informatik','19'),(99,'Keith','Psychologie','17'),(100,'Buckminster','Informatik','18');

INSERT INTO "exams" (sid,course,curriculum,date,grade) VALUES (1,5,'Adv Sql','18',3),(2,8,'DB2','18',4),(3,6,'DB2','17',2),(4,9,'DB2','19',6),(5,2,'DB2','18',4),(6,1,'DB2','17',6),(7,4,'DB1','19',1),(8,8,'Adv Sql','19',6),(9,4,'DB1','17',2),(10,2,'DB1','18',6);
INSERT INTO "exams" (sid,course,curriculum,date,grade) VALUES (11,2,'DB1','18',5),(12,3,'DB1','18',3),(13,1,'DB2','18',1),(14,3,'DB2','17',2),(15,2,'DB2','18',3),(16,8,'DB2','17',2),(17,5,'DB1','18',6),(18,1,'DB1','17',4),(19,7,'DB1','18',2),(20,5,'DB2','17',2);
INSERT INTO "exams" (sid,course,curriculum,date,grade) VALUES (21,7,'DB1','18',3),(22,8,'Adv Sql','19',1),(23,8,'DB2','17',5),(24,10,'DB1','19',6),(25,4,'DB2','19',4),(26,7,'DB2','18',1),(27,7,'Adv Sql','17',5),(28,2,'Adv Sql','17',3),(29,8,'DB1','19',3),(30,1,'Adv Sql','18',5);
INSERT INTO "exams" (sid,course,curriculum,date,grade) VALUES (31,6,'DB2','18',6),(32,8,'DB1','19',3),(33,1,'DB2','19',4),(34,5,'DB1','19',1),(35,3,'DB2','17',1),(36,7,'DB1','19',2),(37,8,'Adv Sql','18',6),(38,7,'Adv Sql','18',3),(39,8,'DB1','18',4),(40,2,'DB2','19',5);
INSERT INTO "exams" (sid,course,curriculum,date,grade) VALUES (41,9,'Adv Sql','17',6),(42,10,'DB1','19',2),(43,4,'Adv Sql','17',2),(44,5,'DB2','18',5),(45,1,'DB2','19',1),(46,5,'Adv Sql','17',5),(47,7,'DB1','17',5),(48,6,'DB1','18',6),(49,9,'DB2','17',6),(50,1,'DB1','18',4);
INSERT INTO "exams" (sid,course,curriculum,date,grade) VALUES (51,6,'Adv Sql','18',1),(52,1,'DB1','17',4),(53,2,'DB2','18',4),(54,9,'DB2','18',1),(55,9,'DB2','18',5),(56,8,'DB2','17',1),(57,1,'DB1','18',2),(58,2,'DB2','17',1),(59,2,'Adv Sql','17',4),(60,9,'Adv Sql','18',6);
INSERT INTO "exams" (sid,course,curriculum,date,grade) VALUES (61,6,'Adv Sql','17',6),(62,10,'DB1','18',5),(63,9,'DB1','18',1),(64,6,'DB1','18',3),(65,4,'DB1','17',4),(66,3,'Adv Sql','18',3),(67,7,'DB2','18',2),(68,3,'Adv Sql','18',4),(69,5,'DB2','17',3),(70,6,'DB2','17',6);
INSERT INTO "exams" (sid,course,curriculum,date,grade) VALUES (71,1,'DB2','17',4),(72,2,'DB2','19',1),(73,5,'DB1','18',2),(74,7,'Adv Sql','17',1),(75,7,'DB1','17',1),(76,1,'Adv Sql','19',2),(77,4,'DB1','18',1),(78,1,'DB2','19',6),(79,8,'Adv Sql','19',4),(80,8,'DB2','19',4);
INSERT INTO "exams" (sid,course,curriculum,date,grade) VALUES (81,9,'DB2','17',6),(82,6,'DB1','18',2),(83,10,'DB1','18',6),(84,8,'DB1','18',6),(85,6,'DB1','19',3),(86,6,'Adv Sql','18',4),(87,6,'DB1','17',1),(88,5,'Adv Sql','18',6),(89,4,'DB1','19',5),(90,3,'DB1','18',6);
INSERT INTO "exams" (sid,course,curriculum,date,grade) VALUES (91,8,'DB1','18',5),(92,6,'Adv Sql','19',3),(93,9,'DB2','18',6),(94,9,'DB2','19',4),(95,8,'Adv Sql','18',2),(96,1,'DB1','17',3),(97,3,'DB2','18',5),(98,7,'DB1','18',3),(99,9,'DB2','18',6),(100,4,'DB1','19',2);

-- Q1

explain analyze
select s.name, e.course
from   students s, exams e
where  s.id=e.sid and
       e.grade=(select min(e2.grade)
                from exams e2
                where s.id=e2.sid);

select plan_serialize('
select s.name, e.course
from   students s, exams e
where  s.id=e.sid and
       e.grade=(select min(e2.grade)
                from exams e2
                where s.id=e2.sid);
');

select parse_analyze('
select s.name, e.course
from   students s, exams e
where  s.id=e.sid and
       e.grade=(select min(e2.grade)
                from exams e2
                where s.id=e2.sid);
');

-- Q1'

explain analyze
select s.name,e.course
from   students s,exams e,
       (select e2.sid as id, min(e2.grade) as best
        from exams e2
        group by e2.sid) m
where  s.id=e.sid and m.id=s.id and
       e.grade=m.best;

select plan_serialize('
select s.name,e.course
from   students s,exams e,
       (select e2.sid as id, min(e2.grade) as best
        from exams e2
        group by e2.sid) m
where  s.id=e.sid and m.id=s.id and
       e.grade=m.best;
');

Q1''
-- easy transformation of
select *
from
(
    select *
    from
        (select *
         from students s, exams e
         where s.id=e.sid) as s
        ,
        ( select min(d.grade) as m, d.id
          from
          ( select *
            from
            ( select e2.sid as id,*
              from exams e2 
            ) as d
            where d.id=d.sid ) as d
          group by d.id) as d
    where s.id = d.id
) as e
where e.grade = m

-- Q1
-- ------------------------------------------------------------------------------------------------------------------
--  Hash Join  (cost=3.50..119.38 rows=1 width=10) (actual time=0.169..6.049 rows=100 loops=1)
--    Hash Cond: ((s.id = e.sid) AND ((SubPlan 1) = e.grade))
--    ->  Seq Scan on students s  (cost=0.00..2.00 rows=100 width=10) (actual time=0.011..0.029 rows=100 loops=1)
--    ->  Hash  (cost=2.00..2.00 rows=100 width=12) (actual time=0.093..0.093 rows=100 loops=1)
--          Buckets: 1024  Batches: 1  Memory Usage: 13kB
--          ->  Seq Scan on exams e  (cost=0.00..2.00 rows=100 width=12) (actual time=0.008..0.037 rows=100 loops=1)
--    SubPlan 1
--      ->  Aggregate  (cost=2.25..2.26 rows=1 width=4) (actual time=0.027..0.027 rows=1 loops=200)
--            ->  Seq Scan on exams e2  (cost=0.00..2.25 rows=1 width=4) (actual time=0.015..0.025 rows=1 loops=200)
--                  Filter: (s.id = sid)
--                  Rows Removed by Filter: 99
--  Planning time: 1.573 ms
--  Execution time: 6.177 ms
-- (13 rows)

-- Q1'
-- ------------------------------------------------------------------------------------------------------------------------------
--  Hash Join  (cost=8.77..11.16 rows=1 width=10) (actual time=0.464..0.530 rows=100 loops=1)
--    Hash Cond: (s.id = e.sid)
--    ->  Seq Scan on students s  (cost=0.00..2.00 rows=100 width=10) (actual time=0.014..0.022 rows=100 loops=1)
--    ->  Hash  (cost=8.76..8.76 rows=1 width=12) (actual time=0.432..0.432 rows=100 loops=1)
--          Buckets: 1024  Batches: 1  Memory Usage: 13kB
--          ->  Hash Join  (cost=6.00..8.76 rows=1 width=12) (actual time=0.197..0.309 rows=100 loops=1)
--                Hash Cond: ((e2.sid = e.sid) AND ((min(e2.grade)) = e.grade))
--                ->  HashAggregate  (cost=2.50..3.50 rows=100 width=8) (actual time=0.090..0.125 rows=100 loops=1)
--                      Group Key: e2.sid
--                      ->  Seq Scan on exams e2  (cost=0.00..2.00 rows=100 width=8) (actual time=0.005..0.014 rows=100 loops=1)
--                ->  Hash  (cost=2.00..2.00 rows=100 width=12) (actual time=0.092..0.092 rows=100 loops=1)
--                      Buckets: 1024  Batches: 1  Memory Usage: 13kB
--                      ->  Seq Scan on exams e  (cost=0.00..2.00 rows=100 width=12) (actual time=0.008..0.041 rows=100 loops=1)
--  Planning time: 0.468 ms
--  Execution time: 0.683 ms
-- (15 rows)


-- Q2
explain analyze
SELECT s.name, e.course
FROM students s, exams e
WHERE s.id=e.sid and
    (s.major = 'CS' or s.major = 'Games Eng') and
    e.grade>=(SELECT avg(e2.grade)+1 --one grade worse
              FROM exams e2 --than the average grade
              WHERE s.id=e2.sid or --of exams taken by
              (e2.curriculum=s.major and --him/her or taken
              s.year>e2.date)); --by elder peers

select plan_serialize($$
SELECT s.name, e.course
FROM students s, exams e
WHERE s.id=e.sid and
    (s.major = 'CS' or s.major = 'Games Eng') and
    e.grade>=(SELECT avg(e2.grade)+1 --one grade worse
              FROM exams e2 --than the average grade
              WHERE s.id=e2.sid or --of exams taken by
              (e2.curriculum=s.major and --him/her or taken
              s.year>e2.date)); --by elder peers
$$);

#cuckoo: 9.08 sec
#pg:     20.4 sec

-- Q2'
EXPLAIN ANALYZE
SELECT a.name, a.course
FROM ( SELECT *
       FROM students s, exams e
       WHERE (s.major='CS' OR s.major='Games Eng')
             AND s.id=e.sid ) a,
     ( SELECT d.id, d.year, d.major, avg(e2.grade) as m
       FROM ( SELECT *
              FROM students s, exams e
              WHERE (s.major='CS' OR s.major='Games Eng')
                    AND s.id=e.sid ) d
            , exams e2
       WHERE d.id=e2.sid OR (d.year > e2.date AND (e2.curriculum=d.major))
       GROUP BY d.id, d.year, d.major ) as d
WHERE a.grade >= m+1 AND
        (d.id = a.id OR ( d.year > a.date AND (a.curriculum=d.major) ));

-- Plan: Postgres
--                                                           QUERY PLAN
-- -------------------------------------------------------------------------------------------------------------------------------
--  Hash Join  (cost=34.19..167429.66 rows=221 width=37) (actual time=12.917..18015.046 rows=2676 loops=1)
--    Output: s.name, e.course
--    Hash Cond: (e.sid = s.id)
--    Join Filter: ((e.grade)::numeric >= (SubPlan 1))
--    Rows Removed by Join Filter: 4062
--    ->  Seq Scan on public.exams e  (cost=0.00..170.24 rows=10624 width=12) (actual time=0.028..1.774 rows=10000 loops=1)
--          Output: e.sid, e.course, e.curriculum, e.date, e.grade
--    ->  Hash  (cost=26.50..26.50 rows=615 width=46) (actual time=0.883..0.883 rows=671 loops=1)
--          Output: s.name, s.id, s.major, s.year
--          Buckets: 1024  Batches: 1  Memory Usage: 63kB
--          ->  Seq Scan on public.students s  (cost=0.00..26.50 rows=615 width=46) (actual time=0.017..0.512 rows=671 loops=1)
--                Output: s.name, s.id, s.major, s.year
--                Filter: ((s.major = 'CS'::text) OR (s.major = 'Games Eng'::text))
--                Rows Removed by Filter: 329
--    SubPlan 1
--      ->  Aggregate  (cost=252.14..252.15 rows=1 width=32) (actual time=2.669..2.669 rows=1 loops=6738)
--            Output: (avg(e2.grade) + '1'::numeric)
--            ->  Seq Scan on public.exams e2  (cost=0.00..249.92 rows=886 width=4) (actual time=0.225..2.661 rows=11 loops=6738)
--                  Output: e2.sid, e2.course, e2.curriculum, e2.date, e2.grade
--                  Filter: ((s.id = e2.sid) OR ((e2.curriculum = s.major) AND (s.year > e2.date)))
--                  Rows Removed by Filter: 9989
--  Planning time: 2.362 ms
--  Execution time: 18015.884 ms
-- (23 rows)

-- Plan: Neumann
--                                                                                 _pq_plan_explain
-- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--  Nested Loop (actual time=110.967..7176.143 rows=2977 loops=1)                                                                                                                 +
--    Output: students.name, exams.course                                                                                                                                         +
--    Join Filter: ((exams.grade > int4(VARIADIC (avg(exams.grade)))) AND ((students.id = students.id) OR ((students.year > exams.date) AND (exams.curriculum = students.major))))+
--    Rows Removed by Join Filter: 4518221                                                                                                                                        +
--    ->  Hash Join (actual time=5.268..11.766 rows=6738 loops=1)                                                                                                                 +
--          Output: students.name, students.id, students.major, students.year, exams.course, exams.curriculum, exams.date, exams.grade                                            +
--          Hash Cond: (students.id = exams.sid)                                                                                                                                  +
--          ->  Seq Scan on public.students (actual time=0.022..1.176 rows=671 loops=1)                                                                                           +
--                Output: students.id, students.name, students.major, students.year                                                                                               +
--                Filter: ((students.major = 'CS'::text) OR (students.major = 'Games Eng'::text))                                                                                 +
--                Rows Removed by Filter: 329                                                                                                                                     +
--          ->  Hash (actual time=5.236..5.236 rows=10000 loops=1)                                                                                                                +
--                Output: exams.sid, exams.course, exams.curriculum, exams.date, exams.grade                                                                                      +
--                Buckets: 16384 (originally 1024)  Batches: 1 (originally 1)  Memory Usage: 656kB                                                                                +
--                ->  Seq Scan on public.exams (actual time=0.041..1.768 rows=10000 loops=1)                                                                                      +
--                      Output: exams.sid, exams.course, exams.curriculum, exams.date, exams.grade                                                                                +
--    ->  HashAggregate (actual time=0.017..0.809 rows=671 loops=6738)                                                                                                            +
--          Output: students.id, students.year, students.major, avg(exams.grade)                                                                                                  +
--          Group Key: students.id, students.year, students.major                                                                                                                 +
--          ->  Hash Join (actual time=9.889..49.657 rows=74628 loops=1)                                                                                                          +
--                Output: students.id, students.year, students.major, exams.course, exams.curriculum, exams.date, exams.grade                                                     +
--                Hash Cond: (students.id = exams.sid)                                                                                                                            +
--                Join Filter: ((students.id = exams.sid) OR ((students.year > exams.date) AND (students.major = exams.curriculum)))                                              +
--                ->  Hash Join (actual time=5.079..9.209 rows=6738 loops=1)                                                                                                      +
--                      Output: students.name, students.id, students.major, students.year, exams.course, exams.curriculum, exams.date, exams.grade                                +
--                      Hash Cond: (students.id = exams.sid)                                                                                                                      +
--                      ->  Seq Scan on public.students (actual time=0.019..0.519 rows=671 loops=1)                                                                               +
--                            Output: students.id, students.name, students.major, students.year                                                                                   +
--                            Filter: ((students.major = 'CS'::text) OR (students.major = 'Games Eng'::text))                                                                     +
--                            Rows Removed by Filter: 329                                                                                                                         +
--                      ->  Hash (actual time=5.039..5.039 rows=10000 loops=1)                                                                                                    +
--                            Output: exams.sid, exams.course, exams.curriculum, exams.date, exams.grade                                                                          +
--                            Buckets: 16384 (originally 1024)  Batches: 1 (originally 1)  Memory Usage: 656kB                                                                    +
--                            ->  Seq Scan on public.exams (actual time=0.009..1.669 rows=10000 loops=1)                                                                          +
--                                  Output: exams.sid, exams.course, exams.curriculum, exams.date, exams.grade                                                                    +
--                ->  Hash (actual time=4.791..4.791 rows=10000 loops=1)                                                                                                          +
--                      Output: exams.sid, exams.course, exams.curriculum, exams.date, exams.grade                                                                                +
--                      Buckets: 16384 (originally 1024)  Batches: 1 (originally 1)  Memory Usage: 656kB                                                                          +
--                      ->  Seq Scan on public.exams (actual time=0.007..1.583 rows=10000 loops=1)                                                                                +
--                            Output: exams.sid, exams.course, exams.curriculum, exams.date, exams.grade                                                                          +
--  Execution time: 7176.987 ms                                                                                                                                                   +

select _pq_plan_explain('{PLANNEDSTMT :commandType 1 :queryId 0 :hasReturning false :hasModifyingCTE false :canSetTag true :transientPlan false :dependsOnRole false :parallelModeNeeded false :planTree {NESTLOOP :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname name :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 5 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {HASHJOIN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 1 :resname name :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 2 :resname id :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 4 :location -1} :resno 4 :resname year :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1} :resno 5 :resname course :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65000 :varoattno 3 :location -1} :resno 6 :resname curriculum :ressortgroupref 6 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 4 :location -1} :resno 7 :resname date :ressortgroupref 7 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 5 :location -1} :resno 8 :resname grade :ressortgroupref 8 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 1 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 1 :location -1} :resno 1 :resname id :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 2 :location -1} :resno 2 :resname name :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 4 :location -1} :resno 4 :resname year :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual ({BOOLEXPR :boolop or :args ({OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 6 [ 24 0 0 0 67 83 ]}) :location -1} {OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 13 [ 52 0 0 0 71 97 109 101 115 32 69 110 103 ]}) :location -1}) :location -1}) :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 1} :righttree {HASH :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 2 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 2 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 2} :righttree <> :initPlan <> :extParam (b) :allParam (b) :skewTable 1265443 :skewColumn 0 :skewInherit false} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinqual <> :hashclauses ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1}) :location -1})} :righttree {AGG :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname id :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 2 :resname year :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {AGGREF :aggfnoid 2101 :aggtype 1700 :aggcollid 0 :inputcollid 0 :aggtranstype 1016 :aggargtypes (o 23) :aggdirectargs <> :args ({TARGETENTRY :expr {VAR :varno 65001 :varattno 7 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 7 :location -1} :resno 1 :resname grade :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false}) :aggorder <> :aggdistinct <> :aggfilter <> :aggstar false :aggvariadic false :aggkind n :agglevelsup 0 :aggsplit 0 :location -1} :resno 4 :resname avg :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {HASHJOIN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 1 :resname id :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 4 :location -1} :resno 2 :resname year :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1} :resno 4 :resname course :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65000 :varoattno 3 :location -1} :resno 5 :resname curriculum :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 4 :location -1} :resno 6 :resname date :ressortgroupref 6 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 5 :location -1} :resno 7 :resname grade :ressortgroupref 7 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {HASHJOIN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 1 :resname name :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 2 :resname id :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 4 :location -1} :resno 4 :resname year :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1} :resno 5 :resname course :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65000 :varoattno 3 :location -1} :resno 6 :resname curriculum :ressortgroupref 6 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 4 :location -1} :resno 7 :resname date :ressortgroupref 7 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 5 :location -1} :resno 8 :resname grade :ressortgroupref 8 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 1 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 1 :location -1} :resno 1 :resname id :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 2 :location -1} :resno 2 :resname name :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 4 :location -1} :resno 4 :resname year :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual ({BOOLEXPR :boolop or :args ({OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 6 [ 24 0 0 0 67 83 ]}) :location -1} {OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 13 [ 52 0 0 0 71 97 109 101 115 32 69 110 103 ]}) :location -1}) :location -1}) :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 1} :righttree {HASH :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 2 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 2 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 2} :righttree <> :initPlan <> :extParam (b) :allParam (b) :skewTable 1265443 :skewColumn 0 :skewInherit false} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinqual <> :hashclauses ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1}) :location -1})} :righttree {HASH :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 2 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 2 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 2} :righttree <> :initPlan <> :extParam (b) :allParam (b) :skewTable 1265443 :skewColumn 0 :skewInherit false} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinqual ({BOOLEXPR :boolop or :args ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1}) :location -1} {BOOLEXPR :boolop and :args ({OPEXPR :opno 521 :opfuncid 147 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 4 :location -1} {VAR :varno 65000 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 4 :location -1}) :location -1} {OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} {VAR :varno 65000 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65000 :varoattno 3 :location -1}) :location -1}) :location -1}) :location -1}) :hashclauses ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1}) :location -1})} :righttree <> :initPlan <> :extParam (b) :allParam (b) :aggstrategy 2 :aggsplit 0 :numCols 3 :grpColIdx 1 2 3 :grpOperators 96 96 98 :numGroups 1 :aggParams (b) :groupingSets <> :chain <>} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinquals ({OPEXPR :opno 521 :opfuncid 147 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 8 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 8 :location -1} {FUNCEXPR :funcid 1744 :funcresulttype 23 :funcretset false :funcvariadic true :funcformat 0 :funccollid 0 :inputcollid 0 :args ({VAR :varno 65000 :varattno 4 :vartype 1700 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 4 :location -1}) :location -1}) :location -1} {BOOLEXPR :boolop or :args ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1} {VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1}) :location -1} {BOOLEXPR :boolop and :args ({OPEXPR :opno 521 :opfuncid 147 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1} {VAR :varno 65001 :varattno 7 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 7 :location -1}) :location -1} {OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 6 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 6 :location -1} {VAR :varno 65000 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65000 :varoattno 3 :location -1}) :location -1}) :location -1}) :location -1}) :nestParams <>} :rtable ({RTE :alias <> :eref {ALIAS :aliasname students :colnames ("id" "name" "major" "year")} :rtekind 0 :relid 1259395 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname students :colnames ("id" "name" "major" "year")} :rtekind 0 :relid 1259395 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>}) :resultRelations <> :nonleafResultRelations <> :rootResultRelations <> :subplans <> :rewindPlanIDs (b) :rowMarks <> :relationOids <> :invalItems <> :nParamExec 0 :utilityStmt <> :stmt_location 0 :stmt_len 0}', true);
select _pq_plan_deserialize('{PLANNEDSTMT :commandType 1 :queryId 0 :hasReturning false :hasModifyingCTE false :canSetTag true :transientPlan false :dependsOnRole false :parallelModeNeeded false :planTree {NESTLOOP :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname name :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 5 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {HASHJOIN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 1 :resname name :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 2 :resname id :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 4 :location -1} :resno 4 :resname year :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1} :resno 5 :resname course :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65000 :varoattno 3 :location -1} :resno 6 :resname curriculum :ressortgroupref 6 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 4 :location -1} :resno 7 :resname date :ressortgroupref 7 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 5 :location -1} :resno 8 :resname grade :ressortgroupref 8 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 1 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 1 :location -1} :resno 1 :resname id :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 2 :location -1} :resno 2 :resname name :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 4 :location -1} :resno 4 :resname year :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual ({BOOLEXPR :boolop or :args ({OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 6 [ 24 0 0 0 67 83 ]}) :location -1} {OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 13 [ 52 0 0 0 71 97 109 101 115 32 69 110 103 ]}) :location -1}) :location -1}) :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 1} :righttree {HASH :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 2 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 2 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 2} :righttree <> :initPlan <> :extParam (b) :allParam (b) :skewTable 1265443 :skewColumn 0 :skewInherit false} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinqual <> :hashclauses ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1}) :location -1})} :righttree {AGG :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname id :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 2 :resname year :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {AGGREF :aggfnoid 2101 :aggtype 1700 :aggcollid 0 :inputcollid 0 :aggtranstype 1016 :aggargtypes (o 23) :aggdirectargs <> :args ({TARGETENTRY :expr {VAR :varno 65001 :varattno 7 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 7 :location -1} :resno 1 :resname grade :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false}) :aggorder <> :aggdistinct <> :aggfilter <> :aggstar false :aggvariadic false :aggkind n :agglevelsup 0 :aggsplit 0 :location -1} :resno 4 :resname avg :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {HASHJOIN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 1 :resname id :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 4 :location -1} :resno 2 :resname year :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1} :resno 4 :resname course :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65000 :varoattno 3 :location -1} :resno 5 :resname curriculum :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 4 :location -1} :resno 6 :resname date :ressortgroupref 6 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 5 :location -1} :resno 7 :resname grade :ressortgroupref 7 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {HASHJOIN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 1 :resname name :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 2 :resname id :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 4 :location -1} :resno 4 :resname year :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1} :resno 5 :resname course :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65000 :varoattno 3 :location -1} :resno 6 :resname curriculum :ressortgroupref 6 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 4 :location -1} :resno 7 :resname date :ressortgroupref 7 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 5 :location -1} :resno 8 :resname grade :ressortgroupref 8 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 1 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 1 :location -1} :resno 1 :resname id :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 2 :location -1} :resno 2 :resname name :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 4 :location -1} :resno 4 :resname year :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual ({BOOLEXPR :boolop or :args ({OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 6 [ 24 0 0 0 67 83 ]}) :location -1} {OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} {CONST :consttype 25 :consttypmod -1 :constcollid 100 :constlen -1 :constbyval false :constisnull false :location -1 :constvalue 13 [ 52 0 0 0 71 97 109 101 115 32 69 110 103 ]}) :location -1}) :location -1}) :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 1} :righttree {HASH :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 2 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 2 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 2} :righttree <> :initPlan <> :extParam (b) :allParam (b) :skewTable 1265443 :skewColumn 0 :skewInherit false} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinqual <> :hashclauses ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1}) :location -1})} :righttree {HASH :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 2 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 2 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 2} :righttree <> :initPlan <> :extParam (b) :allParam (b) :skewTable 1265443 :skewColumn 0 :skewInherit false} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinqual ({BOOLEXPR :boolop or :args ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1}) :location -1} {BOOLEXPR :boolop and :args ({OPEXPR :opno 521 :opfuncid 147 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 4 :location -1} {VAR :varno 65000 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 4 :location -1}) :location -1} {OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} {VAR :varno 65000 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65000 :varoattno 3 :location -1}) :location -1}) :location -1}) :location -1}) :hashclauses ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1}) :location -1})} :righttree <> :initPlan <> :extParam (b) :allParam (b) :aggstrategy 2 :aggsplit 0 :numCols 3 :grpColIdx 1 2 3 :grpOperators 96 96 98 :numGroups 1 :aggParams (b) :groupingSets <> :chain <>} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinquals ({OPEXPR :opno 521 :opfuncid 147 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 8 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 8 :location -1} {FUNCEXPR :funcid 1744 :funcresulttype 23 :funcretset false :funcvariadic true :funcformat 0 :funccollid 0 :inputcollid 0 :args ({VAR :varno 65000 :varattno 4 :vartype 1700 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 4 :location -1}) :location -1}) :location -1} {BOOLEXPR :boolop or :args ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1} {VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1}) :location -1} {BOOLEXPR :boolop and :args ({OPEXPR :opno 521 :opfuncid 147 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1} {VAR :varno 65001 :varattno 7 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 7 :location -1}) :location -1} {OPEXPR :opno 98 :opfuncid 67 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 6 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 6 :location -1} {VAR :varno 65000 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65000 :varoattno 3 :location -1}) :location -1}) :location -1}) :location -1}) :nestParams <>} :rtable ({RTE :alias <> :eref {ALIAS :aliasname students :colnames ("id" "name" "major" "year")} :rtekind 0 :relid 1259395 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname students :colnames ("id" "name" "major" "year")} :rtekind 0 :relid 1259395 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>}) :resultRelations <> :nonleafResultRelations <> :rootResultRelations <> :subplans <> :rewindPlanIDs (b) :rowMarks <> :relationOids <> :invalItems <> :nParamExec 0 :utilityStmt <> :stmt_location 0 :stmt_len 0}');

--Q1
select _pq_plan_explain('{PLANNEDSTMT :commandType 1 :queryId 0 :hasReturning false :hasModifyingCTE false :canSetTag true :transientPlan false :dependsOnRole false :parallelModeNeeded false :planTree {HASHJOIN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 1 :resname name :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 1 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 1 :location -1} :resno 1 :resname id :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 2 :location -1} :resno 2 :resname name :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 4 :location -1} :resno 4 :resname year :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 1} :righttree {HASH :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 3 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} :resno 3 :resname grade :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 3 :resname grade :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 2} :righttree <> :initPlan <> :extParam (b) :allParam (b) :skewTable 1265443 :skewColumn 0 :skewInherit false} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinqual <> :hashclauses ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1}) :location -1} {OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({SUBPLAN :subLinkType 4 :testexpr <> :paramIds <> :plan_id 1 :plan_name Subplan1 :firstColType 23 :firstColTypmod 0 :firstColCollation 0 :useHashTable false :unknownEqFalse false :parallel_safe false :setParam <> :parParam (i 0) :args ({VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1}) :startup_cost 0.0 :per_call_cost 0.0} {VAR :varno 65000 :varattno 3 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 3 :location -1}) :location -1})} :rtable ({RTE :alias <> :eref {ALIAS :aliasname students :colnames ("id" "name" "major" "year")} :rtekind 0 :relid 1259395 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>}) :resultRelations <> :nonleafResultRelations <> :rootResultRelations <> :subplans ({AGG :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 1 :targetlist ({TARGETENTRY :expr {AGGREF :aggfnoid 2132 :aggtype 23 :aggcollid 0 :inputcollid 0 :aggtranstype 23 :aggargtypes (o 23) :aggdirectargs <> :args ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname grade :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false}) :aggorder <> :aggdistinct <> :aggfilter <> :aggstar false :aggvariadic false :aggkind n :agglevelsup 0 :aggsplit 0 :location -1} :resno 1 :resname min :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 1 :resname grade :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({PARAM :paramkind 1 :paramid 0 :paramtype 23 :paramtypmod -1 :paramcollid 0 :location -1} {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1}) :location -1}) :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 2} :righttree <> :initPlan <> :extParam (b) :allParam (b) :aggstrategy 0 :aggsplit 0 :numCols 0 :grpColIdx  :grpOperators  :numGroups 1 :aggParams (b) :groupingSets <> :chain <>}) :rewindPlanIDs (b) :rowMarks <> :relationOids <> :invalItems <> :nParamExec 1 :utilityStmt <> :stmt_location 0 :stmt_len 0}', true);
select _pq_plan_deserialize('{PLANNEDSTMT :commandType 1 :queryId 0 :hasReturning false :hasModifyingCTE false :canSetTag true :transientPlan false :dependsOnRole false :parallelModeNeeded false :planTree {HASHJOIN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 1 :resname name :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 1 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 1 :location -1} :resno 1 :resname id :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 2 :location -1} :resno 2 :resname name :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 4 :location -1} :resno 4 :resname year :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 1} :righttree {HASH :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 3 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} :resno 3 :resname grade :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 3 :resname grade :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 2} :righttree <> :initPlan <> :extParam (b) :allParam (b) :skewTable 1265443 :skewColumn 0 :skewInherit false} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinqual <> :hashclauses ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1}) :location -1} {OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({SUBPLAN :subLinkType 4 :testexpr <> :paramIds <> :plan_id 1 :plan_name Subplan1 :firstColType 23 :firstColTypmod 0 :firstColCollation 0 :useHashTable false :unknownEqFalse false :parallel_safe false :setParam <> :parParam (i 0) :args ({VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1}) :startup_cost 0.0 :per_call_cost 0.0} {VAR :varno 65000 :varattno 3 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 3 :location -1}) :location -1})} :rtable ({RTE :alias <> :eref {ALIAS :aliasname students :colnames ("id" "name" "major" "year")} :rtekind 0 :relid 1259395 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>}) :resultRelations <> :nonleafResultRelations <> :rootResultRelations <> :subplans ({AGG :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 1 :targetlist ({TARGETENTRY :expr {AGGREF :aggfnoid 2132 :aggtype 23 :aggcollid 0 :inputcollid 0 :aggtranstype 23 :aggargtypes (o 23) :aggdirectargs <> :args ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname grade :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false}) :aggorder <> :aggdistinct <> :aggfilter <> :aggstar false :aggvariadic false :aggkind n :agglevelsup 0 :aggsplit 0 :location -1} :resno 1 :resname min :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 1 :resname grade :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({PARAM :paramkind 1 :paramid 0 :paramtype 23 :paramtypmod -1 :paramcollid 0 :location -1} {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1}) :location -1}) :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 2} :righttree <> :initPlan <> :extParam (b) :allParam (b) :aggstrategy 0 :aggsplit 0 :numCols 0 :grpColIdx  :grpOperators  :numGroups 1 :aggParams (b) :groupingSets <> :chain <>}) :rewindPlanIDs (b) :rowMarks <> :relationOids <> :invalItems <> :nParamExec 1 :utilityStmt <> :stmt_location 0 :stmt_len 0}');

--                                   _pq_plan_explain
-- ------------------------------------------------------------------------------------
--  Hash Join (actual time=0.821..5.584 rows=100 loops=1)                             +
--    Output: students.name, exams.course                                             +
--    Hash Cond: ((students.id = exams.sid) AND ((Subplan1) = exams.grade))           +
--    ->  Seq Scan on public.students (actual time=0.030..0.047 rows=100 loops=1)     +
--          Output: students.id, students.name, students.major, students.year         +
--    ->  Hash (actual time=0.181..0.181 rows=100 loops=1)                            +
--          Output: exams.sid, exams.course, exams.grade                              +
--          Buckets: 1024  Batches: 1  Memory Usage: 13kB                             +
--          ->  Seq Scan on public.exams (actual time=0.068..0.102 rows=100 loops=1)  +
--                Output: exams.sid, exams.course, exams.grade                        +
--    Subplan1                                                                        +
--      ->  Aggregate (actual time=0.022..0.022 rows=1 loops=200)                     +
--            Output: min(exams.grade)                                                +
--            ->  Seq Scan on public.exams (actual time=0.012..0.021 rows=1 loops=200)+
--                  Output: exams.grade                                               +
--                  Filter: (students.id = exams.sid)                                 +
--                  Rows Removed by Filter: 99                                        +
--  Execution time: 7.602 ms

-- Q1'
select _pq_plan_explain('{PLANNEDSTMT :commandType 1 :queryId 0 :hasReturning false :hasModifyingCTE false :canSetTag true :transientPlan false :dependsOnRole false :parallelModeNeeded false :planTree {HASHJOIN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 1 :resname name :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 1 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 1 :location -1} :resno 1 :resname id :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 2 :location -1} :resno 2 :resname name :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 4 :location -1} :resno 4 :resname year :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 1} :righttree {HASH :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 2 :resname min :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 3 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} :resno 3 :resname course :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {HASHJOIN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1} :resno 1 :resname course :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1} :resno 2 :resname sid :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 3 :resname min :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {AGG :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {AGGREF :aggfnoid 2132 :aggtype 23 :aggcollid 0 :inputcollid 0 :aggtranstype 23 :aggargtypes (o 23) :aggdirectargs <> :args ({TARGETENTRY :expr {VAR :varno 65001 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 5 :location -1} :resno 1 :resname grade :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false}) :aggorder <> :aggdistinct <> :aggfilter <> :aggstar false :aggvariadic false :aggkind n :agglevelsup 0 :aggsplit 0 :location -1} :resno 2 :resname min :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 3 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 3 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 3} :righttree <> :initPlan <> :extParam (b) :allParam (b) :aggstrategy 2 :aggsplit 0 :numCols 1 :grpColIdx 1 :grpOperators 96 :numGroups 1 :aggParams (b) :groupingSets <> :chain <>} :righttree {HASH :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname course :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 2 :resname sid :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 3 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} :resno 3 :resname grade :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 3 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 2 :location -1} :resno 1 :resname course :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 1 :location -1} :resno 2 :resname sid :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 5 :location -1} :resno 3 :resname grade :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 3} :righttree <> :initPlan <> :extParam (b) :allParam (b) :skewTable 1265443 :skewColumn 0 :skewInherit false} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinqual <> :hashclauses ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1}) :location -1} {OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} {VAR :varno 65000 :varattno 3 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 3 :location -1}) :location -1})} :righttree <> :initPlan <> :extParam (b) :allParam (b) :skewTable 1259395 :skewColumn 1 :skewInherit false} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinqual <> :hashclauses ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1}) :location -1})} :rtable ({RTE :alias <> :eref {ALIAS :aliasname students :colnames ("id" "name" "major" "year")} :rtekind 0 :relid 1259395 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname students :colnames ("id" "name" "major" "year")} :rtekind 0 :relid 1259395 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>}) :resultRelations <> :nonleafResultRelations <> :rootResultRelations <> :subplans <> :rewindPlanIDs (b) :rowMarks <> :relationOids <> :invalItems <> :nParamExec 0 :utilityStmt <> :stmt_location 0 :stmt_len 0}', true);
select _pq_plan_deserialize('{PLANNEDSTMT :commandType 1 :queryId 0 :hasReturning false :hasModifyingCTE false :canSetTag true :transientPlan false :dependsOnRole false :parallelModeNeeded false :planTree {HASHJOIN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 1 :resname name :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 1 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 1 :location -1} :resno 1 :resname id :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 2 :location -1} :resno 2 :resname name :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 4 :location -1} :resno 4 :resname year :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 1} :righttree {HASH :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 2 :resname min :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 3 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} :resno 3 :resname course :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {HASHJOIN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1} :resno 1 :resname course :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1} :resno 2 :resname sid :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 3 :resname min :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {AGG :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {AGGREF :aggfnoid 2132 :aggtype 23 :aggcollid 0 :inputcollid 0 :aggtranstype 23 :aggargtypes (o 23) :aggdirectargs <> :args ({TARGETENTRY :expr {VAR :varno 65001 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 5 :location -1} :resno 1 :resname grade :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false}) :aggorder <> :aggdistinct <> :aggfilter <> :aggstar false :aggvariadic false :aggkind n :agglevelsup 0 :aggsplit 0 :location -1} :resno 2 :resname min :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 3 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 3 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 3} :righttree <> :initPlan <> :extParam (b) :allParam (b) :aggstrategy 2 :aggsplit 0 :numCols 1 :grpColIdx 1 :grpOperators 96 :numGroups 1 :aggParams (b) :groupingSets <> :chain <>} :righttree {HASH :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname course :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 2 :resname sid :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 3 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} :resno 3 :resname grade :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 3 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 2 :location -1} :resno 1 :resname course :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 1 :location -1} :resno 2 :resname sid :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 5 :location -1} :resno 3 :resname grade :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 3} :righttree <> :initPlan <> :extParam (b) :allParam (b) :skewTable 1265443 :skewColumn 0 :skewInherit false} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinqual <> :hashclauses ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1}) :location -1} {OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} {VAR :varno 65000 :varattno 3 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 3 :location -1}) :location -1})} :righttree <> :initPlan <> :extParam (b) :allParam (b) :skewTable 1259395 :skewColumn 1 :skewInherit false} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinqual <> :hashclauses ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1}) :location -1})} :rtable ({RTE :alias <> :eref {ALIAS :aliasname students :colnames ("id" "name" "major" "year")} :rtekind 0 :relid 1259395 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname students :colnames ("id" "name" "major" "year")} :rtekind 0 :relid 1259395 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>}) :resultRelations <> :nonleafResultRelations <> :rootResultRelations <> :subplans <> :rewindPlanIDs (b) :rowMarks <> :relationOids <> :invalItems <> :nParamExec 0 :utilityStmt <> :stmt_location 0 :stmt_len 0}');

--                                            _pq_plan_explain
-- ------------------------------------------------------------------------------------------------------
--  Hash Join (actual time=0.492..0.553 rows=100 loops=1)                                               +
--    Output: students.name, exams.course                                                               +
--    Hash Cond: (students.id = exams.sid)                                                              +
--    ->  Seq Scan on public.students (actual time=0.007..0.019 rows=100 loops=1)                       +
--          Output: students.id, students.name, students.major, students.year                           +
--    ->  Hash (actual time=0.433..0.433 rows=100 loops=1)                                              +
--          Output: exams.course, exams.sid, exams.sid                                                  +
--          Buckets: 1024  Batches: 1  Memory Usage: 13kB                                               +
--          ->  Hash Join (actual time=0.276..0.372 rows=100 loops=1)                                   +
--                Output: exams.course, exams.sid, exams.sid                                            +
--                Hash Cond: ((exams.sid = exams.sid) AND ((min(exams.grade)) = exams.grade))           +
--                ->  HashAggregate (actual time=0.123..0.149 rows=100 loops=1)                         +
--                      Output: exams.sid, min(exams.grade)                                             +
--                      Group Key: exams.sid                                                            +
--                      ->  Seq Scan on public.exams (actual time=0.005..0.016 rows=100 loops=1)        +
--                            Output: exams.sid, exams.course, exams.curriculum, exams.date, exams.grade+
--                ->  Hash (actual time=0.126..0.126 rows=100 loops=1)                                  +
--                      Output: exams.course, exams.sid, exams.grade                                    +
--                      Buckets: 1024  Batches: 1  Memory Usage: 13kB                                   +
--                      ->  Seq Scan on public.exams (actual time=0.019..0.048 rows=100 loops=1)        +
--                            Output: exams.course, exams.sid, exams.grade                              +
--  Execution time: 0.649 ms

-- Q1''

select _pq_plan_explain('{PLANNEDSTMT :commandType 1 :queryId 0 :hasReturning false :hasModifyingCTE false :canSetTag true :transientPlan false :dependsOnRole false :parallelModeNeeded false :planTree {HASHJOIN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname name :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 3 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {HASHJOIN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 1 :resname name :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 2 :resname id :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1} :resno 3 :resname course :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 5 :location -1} :resno 4 :resname grade :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 1 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 1 :location -1} :resno 1 :resname id :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 2 :location -1} :resno 2 :resname name :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 4 :location -1} :resno 4 :resname year :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 1} :righttree {HASH :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 3 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 3 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 2 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 2} :righttree <> :initPlan <> :extParam (b) :allParam (b) :skewTable 1265443 :skewColumn 0 :skewInherit false} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinqual <> :hashclauses ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1}) :location -1})} :righttree {HASH :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 2 :resname grade :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {AGG :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {AGGREF :aggfnoid 2132 :aggtype 23 :aggcollid 0 :inputcollid 0 :aggtranstype 23 :aggargtypes (o 23) :aggdirectargs <> :args ({TARGETENTRY :expr {VAR :varno 65001 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 5 :location -1} :resno 1 :resname grade :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false}) :aggorder <> :aggdistinct <> :aggfilter <> :aggstar false :aggvariadic false :aggkind n :agglevelsup 0 :aggsplit 0 :location -1} :resno 2 :resname min :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 2 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 2} :righttree <> :initPlan <> :extParam (b) :allParam (b) :aggstrategy 2 :aggsplit 0 :numCols 1 :grpColIdx 1 :grpOperators 96 :numGroups 1 :aggParams (b) :groupingSets <> :chain <>} :righttree <> :initPlan <> :extParam (b) :allParam (b) :skewTable 1265443 :skewColumn 0 :skewInherit false} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinqual ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 4 :location -1} {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1}) :location -1}) :hashclauses ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1}) :location -1})} :rtable ({RTE :alias <> :eref {ALIAS :aliasname students :colnames ("id" "name" "major" "year")} :rtekind 0 :relid 1259395 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>}) :resultRelations <> :nonleafResultRelations <> :rootResultRelations <> :subplans <> :rewindPlanIDs (b) :rowMarks <> :relationOids <> :invalItems <> :nParamExec 0 :utilityStmt <> :stmt_location 0 :stmt_len 0}', true);
select _pq_plan_deserialize('{PLANNEDSTMT :commandType 1 :queryId 0 :hasReturning false :hasModifyingCTE false :canSetTag true :transientPlan false :dependsOnRole false :parallelModeNeeded false :planTree {HASHJOIN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname name :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 3 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 3 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {HASHJOIN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 1 :resname name :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 2 :resname id :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1} :resno 3 :resname course :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65000 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 5 :location -1} :resno 4 :resname grade :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 1 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 1 :location -1} :resno 1 :resname id :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 2 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 2 :location -1} :resno 2 :resname name :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 1 :varoattno 3 :location -1} :resno 3 :resname major :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 1 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 1 :varoattno 4 :location -1} :resno 4 :resname year :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 1} :righttree {HASH :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 3 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 3 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 3 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 3 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 2 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 2} :righttree <> :initPlan <> :extParam (b) :allParam (b) :skewTable 1265443 :skewColumn 0 :skewInherit false} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinqual <> :hashclauses ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1}) :location -1})} :righttree {HASH :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} :resno 2 :resname grade :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {AGG :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 65001 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {AGGREF :aggfnoid 2132 :aggtype 23 :aggcollid 0 :inputcollid 0 :aggtranstype 23 :aggargtypes (o 23) :aggdirectargs <> :args ({TARGETENTRY :expr {VAR :varno 65001 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 5 :location -1} :resno 1 :resname grade :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false}) :aggorder <> :aggdistinct <> :aggfilter <> :aggstar false :aggvariadic false :aggkind n :agglevelsup 0 :aggsplit 0 :location -1} :resno 2 :resname min :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree {SEQSCAN :startup_cost 0.0 :total_cost 0.0 :plan_rows 0 :plan_width 0 :parallel_aware false :parallel_safe false :plan_node_id 0 :targetlist ({TARGETENTRY :expr {VAR :varno 2 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 1 :location -1} :resno 1 :resname sid :ressortgroupref 1 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 2 :location -1} :resno 2 :resname course :ressortgroupref 2 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 3 :vartype 25 :vartypmod -1 :varcollid 100 :varlevelsup 0 :varnoold 2 :varoattno 3 :location -1} :resno 3 :resname curriculum :ressortgroupref 3 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 4 :location -1} :resno 4 :resname date :ressortgroupref 4 :resorigtbl 0 :resorigcol 0 :resjunk false} {TARGETENTRY :expr {VAR :varno 2 :varattno 5 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 2 :varoattno 5 :location -1} :resno 5 :resname grade :ressortgroupref 5 :resorigtbl 0 :resorigcol 0 :resjunk false}) :qual <> :lefttree <> :righttree <> :initPlan <> :extParam (b) :allParam (b) :scanrelid 2} :righttree <> :initPlan <> :extParam (b) :allParam (b) :aggstrategy 2 :aggsplit 0 :numCols 1 :grpColIdx 1 :grpOperators 96 :numGroups 1 :aggParams (b) :groupingSets <> :chain <>} :righttree <> :initPlan <> :extParam (b) :allParam (b) :skewTable 1265443 :skewColumn 0 :skewInherit false} :initPlan <> :extParam (b) :allParam (b) :jointype 0 :inner_unique false :joinqual ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 4 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 4 :location -1} {VAR :varno 65000 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 2 :location -1}) :location -1}) :hashclauses ({OPEXPR :opno 96 :opfuncid 65 :opresulttype 16 :opretset false :opcollid 0 :inputcollid 0 :args ({VAR :varno 65001 :varattno 2 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65001 :varoattno 2 :location -1} {VAR :varno 65000 :varattno 1 :vartype 23 :vartypmod -1 :varcollid 0 :varlevelsup 0 :varnoold 65000 :varoattno 1 :location -1}) :location -1})} :rtable ({RTE :alias <> :eref {ALIAS :aliasname students :colnames ("id" "name" "major" "year")} :rtekind 0 :relid 1259395 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>} {RTE :alias <> :eref {ALIAS :aliasname exams :colnames ("sid" "course" "curriculum" "date" "grade")} :rtekind 0 :relid 1265443 :relkind r :tablesample <> :lateral false :inh false :inFromCl true :requiredPerms 2 :checkAsUser 0 :selectedCols (b 1 2 3 4 5) :insertedCols (b) :updatedCols (b) :securityQuals <>}) :resultRelations <> :nonleafResultRelations <> :rootResultRelations <> :subplans <> :rewindPlanIDs (b) :rowMarks <> :relationOids <> :invalItems <> :nParamExec 0 :utilityStmt <> :stmt_location 0 :stmt_len 0}');
--                                         _pq_plan_explain
-- ------------------------------------------------------------------------------------------------
--  Hash Join (actual time=0.274..0.391 rows=100 loops=1)                                         +
--    Output: students.name, course                                                               +
--    Hash Cond: (students.id = exams.sid)                                                        +
--    ->  Hash Join (actual time=0.067..0.141 rows=100 loops=1)                                   +
--          Output: students.name, students.id, course                                            +
--          Hash Cond: (students.id = sid)                                                        +
--          ->  Seq Scan on public.students (actual time=0.007..0.022 rows=100 loops=1)           +
--                Output: students.id, students.name, students.major, students.year               +
--          ->  Hash (actual time=0.052..0.052 rows=100 loops=1)                                  +
--                Output: sid, course, curriculum, date, grade                                    +
--                Buckets: 1024  Batches: 1  Memory Usage: 14kB                                   +
--                ->  Seq Scan on public.exams (actual time=0.006..0.018 rows=100 loops=1)        +
--                      Output: exams.sid, exams.course, exams.curriculum, exams.date, exams.grade+
--    ->  Hash (actual time=0.200..0.200 rows=100 loops=1)                                        +
--          Output: exams.sid, (min(exams.grade))                                                 +
--          Buckets: 1024  Batches: 1  Memory Usage: 13kB                                         +
--          ->  HashAggregate (actual time=0.119..0.158 rows=100 loops=1)                         +
--                Output: exams.sid, min(exams.grade), exams.course                               +
--                Group Key: exams.sid                                                            +
--                ->  Seq Scan on public.exams (actual time=0.016..0.030 rows=100 loops=1)        +
--                      Output: exams.sid, exams.course, exams.curriculum, exams.date, exams.grade+
--  Execution time: 0.489 ms
